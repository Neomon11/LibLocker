# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–≤—è–∑–∏

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª –æ –¥–≤—É—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö:
1. –ü—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –≤–∫–ª—é—á–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
2. –°–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∏ –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —É—Å–ª–æ–≤–∏—è—Ö –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

–ü–æ—Å–ª–µ —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞ –±—ã–ª–∏ –≤—ã—è–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

### 1. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- Socket.IO –∏–º–µ–ª –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π 5 —Å–µ–∫—É–Ω–¥
- –ö–ª–∏–µ–Ω—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞–ª —Å–≤–æ—é –ª–æ–≥–∏–∫—É –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π 5 –º–∏–Ω—É—Ç
- –û–±–∞ –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Ä–∞–±–æ—Ç–∞–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, —Å–æ–∑–¥–∞–≤–∞—è –∏–∑–±—ã—Ç–æ—á–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∏ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### 2. –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `reconnection_delay_max=5` —Å–µ–∫—É–Ω–¥ –±—ã–ª–æ —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –¥–ª—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Å–µ—Ç–∏
- –ù–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ 300 —Å–µ–∫—É–Ω–¥
- –í—ã–∑—ã–≤–∞–ª–æ –±—ã—Å—Ç—Ä—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Å–µ—Ç—å—é

### 3. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ auto_connect
- –ü–∞—Ä–∞–º–µ—Ç—Ä `auto_connect` –±—ã–ª –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –Ω–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è
- –ö–ª–∏–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–ª—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —ç—Ç–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–∞–∂–µ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–Ω–∞—á–µ–Ω–∏—è `false`

### 4. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –°–æ—Å—Ç–æ—è–Ω–∏–µ `connected` –Ω–µ –±—ã–ª–æ –∑–∞—â–∏—â–µ–Ω–æ –æ—Ç –≥–æ–Ω–æ–∫ –ø–æ—Ç–æ–∫–æ–≤
- Socket.IO –º–æ–≥ –∏–∑–º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å –æ—Å–Ω–æ–≤–Ω—ã–º –∫–æ–¥–æ–º
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –∑–∞—â–∏—Ç–∞ –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ

### 5. Heartbeat –±–µ–∑ –∑–∞—â–∏—Ç—ã –æ—Ç –æ—à–∏–±–æ–∫
- –û—Ç–ø—Ä–∞–≤–∫–∞ heartbeat –Ω–µ –∏–º–µ–ª–∞ —Ç–∞–π–º–∞—É—Ç–∞
- –ù–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å –æ—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
- –ú–æ–≥–ª–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Å–µ—Ç—å—é

## –†–µ—à–µ–Ω–∏–µ

### 1. –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–π—Å—è –ª–æ–≥–∏–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ë—ã–ª–æ** (–≤ `client.py`, –º–µ—Ç–æ–¥ `run()`):
```python
while True:
    if not self.connected:
        await self.connect()
        if not self.connected:
            logger.info(f"Connection failed, retrying in {self.reconnect_delay} seconds...")
            await asyncio.sleep(self.reconnect_delay)
            self.reconnect_delay = min(
                self.reconnect_delay * RECONNECT_BACKOFF_MULTIPLIER,
                MAX_RECONNECT_DELAY
            )
            continue
        else:
            self.reconnect_delay = INITIAL_RECONNECT_DELAY
    # ... –æ—Ç–ø—Ä–∞–≤–∫–∞ heartbeat
```

**–°—Ç–∞–ª–æ**:
```python
# –ò–Ω–∏—Ü–∏–∏—Ä—É–µ–º –ø–µ—Ä–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
# Socket.IO –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
await self.connect()

# –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ—Ç–ø—Ä–∞–≤–∫–∏ heartbeat
while True:
    await asyncio.sleep(5)
    if self.connected:
        await self.send_heartbeat(remaining_seconds)
    else:
        logger.debug("Not connected - Socket.IO will reconnect automatically")
```

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Socket.IO

**–ë—ã–ª–æ**:
```python
self.sio = socketio.AsyncClient(
    reconnection=True,
    reconnection_attempts=0,
    reconnection_delay=1,
    reconnection_delay_max=5,  # –°–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ!
    logger=True,
    engineio_logger=True
)
```

**–°—Ç–∞–ª–æ**:
```python
self.sio = socketio.AsyncClient(
    reconnection=True,
    reconnection_attempts=0,  # –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
    reconnection_delay=2,  # –ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 2 —Å–µ–∫
    reconnection_delay_max=60,  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 60 —Å–µ–∫
    randomization_factor=0.5,  # –°–ª—É—á–∞–π–Ω–æ—Å—Ç—å –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
    logger=True,
    engineio_logger=True
)
```

**–ù–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã**:
```python
INITIAL_RECONNECT_DELAY = 2  # –ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
MAX_RECONNECT_DELAY = 60  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (1 –º–∏–Ω—É—Ç–∞)
RECONNECT_BACKOFF_MULTIPLIER = 1.5  # –ú–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞
```

**–ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫**:
- –ü–æ–ø—ã—Ç–∫–∞ 1: 2s
- –ü–æ–ø—ã—Ç–∫–∞ 2: 3.0s
- –ü–æ–ø—ã—Ç–∫–∞ 3: 4.5s
- –ü–æ–ø—ã—Ç–∫–∞ 4: 6.75s
- –ü–æ–ø—ã—Ç–∫–∞ 5: 10.125s
- –ü–æ–ø—ã—Ç–∫–∞ 6: 15.1875s
- –ü–æ–ø—ã—Ç–∫–∞ 7: 22.78125s
- –ü–æ–ø—ã—Ç–∫–∞ 8: 34.171875s
- –ü–æ–ø—ã—Ç–∫–∞ 9: 51.2578125s
- –ü–æ–ø—ã—Ç–∫–∞ 10: 60s (–º–∞–∫—Å–∏–º—É–º)

### 3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ auto_connect

**–í `gui.py`**:
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É auto_connect –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∫–ª–∏–µ–Ω—Ç–∞
if self.config.auto_connect:
    logger.info("Auto-connect enabled - starting client thread")
    self.client_thread.start()
else:
    logger.info("Auto-connect disabled - client thread not started")
    logger.info("Use 'Connect' button or menu to manually connect")
```

**–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ —Ä—É—á–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**:
```python
def manual_connect(self):
    """–†—É—á–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É (–¥–ª—è —Ä–µ–∂–∏–º–∞ –±–µ–∑ auto_connect)"""
    if not self.client_thread.isRunning():
        logger.info("Starting client thread manually")
        self.connection_label.setText("–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É...")
        self.client_thread.start()
    else:
        logger.info("Client thread already running")
```

**–û–±–Ω–æ–≤–ª–µ–Ω–æ –º–µ–Ω—é —Ç—Ä–µ—è**:
```python
# –î–µ–π—Å—Ç–≤–∏–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è" (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ auto_connect –≤—ã–∫–ª—é—á–µ–Ω)
if not self.config.auto_connect:
    connect_action = QAction("üîå –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É", self)
    connect_action.triggered.connect(self.manual_connect)
    tray_menu.addAction(connect_action)
```

### 4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞**:
```python
def __init__(self, server_url: str = "http://localhost:8765"):
    # ...
    self._connection_lock = asyncio.Lock()  # –î–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**:
```python
@self.sio.event
async def connect():
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É"""
    async with self._connection_lock:
        logger.info("Connected to server")
        self.connected = True
        await self._register_client()
        # ...

@self.sio.event
async def disconnect():
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞"""
    async with self._connection_lock:
        logger.info("Disconnected from server")
        self.connected = False
        self.status = ClientStatus.OFFLINE
```

### 5. –ó–∞—â–∏—Ç–∞ heartbeat

**–ë—ã–ª–æ**:
```python
async def send_heartbeat(self, remaining_seconds: Optional[int] = None):
    if not self.connected:
        return
    
    heartbeat_msg = HeartbeatMessage(...)
    await self.sio.emit('message', heartbeat_msg.to_message().to_dict())
```

**–°—Ç–∞–ª–æ**:
```python
async def send_heartbeat(self, remaining_seconds: Optional[int] = None):
    """–û—Ç–ø—Ä–∞–≤–∫–∞ heartbeat –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –æ—à–∏–±–æ–∫"""
    if not self.connected:
        logger.debug("Skipping heartbeat - not connected")
        return

    try:
        heartbeat_msg = HeartbeatMessage(...)
        
        await asyncio.wait_for(
            self.sio.emit('message', heartbeat_msg.to_message().to_dict()),
            timeout=5.0  # –¢–∞–π–º–∞—É—Ç 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
        )
        logger.debug("Heartbeat sent successfully")
    except asyncio.TimeoutError:
        logger.warning("Heartbeat send timeout - connection may be unstable")
    except Exception as e:
        logger.error(f"Error sending heartbeat: {e}")
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω—ã —Ç—Ä–∏ –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

### 1. test_connection_recovery.py
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –∞—Å–ø–µ–∫—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Socket.IO (6/6 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ)
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –ó–∞—â–∏—Ç–∞ heartbeat
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–π—Å—è –ª–æ–≥–∏–∫–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### 2. test_auto_connect_config.py
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç—É –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ auto_connect:
- ‚úÖ –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (True)
- ‚úÖ –Ø–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ false
- ‚úÖ –Ø–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ true
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –ø—Ä–∏–º–µ—Ä–µ –∫–æ–Ω—Ñ–∏–≥–∞

### 3. test_client_integration.py
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º URL
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Socket.IO
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ callback'–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ heartbeat –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ClientConfig

**–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!**

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. ‚úÖ –ö–ª–∏–µ–Ω—Ç —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–µ (–µ—Å–ª–∏ auto_connect=true)
2. ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤—è–∑–∏ —Ç–µ–ø–µ—Ä—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —É—Å–ª–æ–≤–∏—è—Ö –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
3. ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –∏–∑–±—ã—Ç–æ—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
4. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (2s -> 60s —Å –º–Ω–æ–∂–∏—Ç–µ–ª–µ–º 1.5x)
5. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
6. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ heartbeat —Å —Ç–∞–π–º–∞—É—Ç–æ–º
7. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ auto_connect

### –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Å–µ—Ç–∏:
- –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ —Å —Ä–∞–∑—É–º–Ω—ã–º–∏ –ø—Ä–µ–¥–µ–ª–∞–º–∏ (2-60 —Å–µ–∫)
- –§–∞–∫—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –¢–∞–π–º–∞—É—Ç –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ `config.client.ini`:

```ini
[autostart]
enabled = false
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
auto_connect = true
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `auto_connect = false` –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –º–µ–Ω—é —Ç—Ä–µ—è.

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Å–µ—Ç–∏**: –û—Å—Ç–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
2. **–î–ª—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Å–µ—Ç–∏**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Ç–∞–∫–∏—Ö —É—Å–ª–æ–≤–∏–π
3. **–î–ª—è —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `auto_connect = false` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã:
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å (auto_connect=true)
- API –∫–ª–∏–µ–Ω—Ç–∞ –Ω–µ –∏–∑–º–µ–Ω—ë–Ω
